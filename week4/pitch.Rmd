---
title: "Child Age/Weight dependency"
author: "Achim Gerhardt"
date: "5 Januar 2019"
output: ioslides_presentation
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
library(plotly)
```

## The WHO Child Growth Standards
The idea of this app is to visualize WHO child growth standards data. For this project we focus on the age/weigth data for boys and girls.

These standards were developed using data collected in the WHO Multicentre Growth Reference Study.

## The Data
The data contains the percentiles of the weight by age of the child. The app lets you select the age of the child and displays it in the diagram.

```{r}

percentiles_girls <- read.table("data/wfa_girls_p_exp.txt", header = TRUE, sep="\t", stringsAsFactors = FALSE)[1:60,]

plot_ly(percentiles_girls, x = ~Age, y = ~P50, name = 'P50', type = 'scatter', mode = 'lines', line = list(color = 'black', width = 2)) %>%
    add_trace(y = ~P3, name = 'P3', line = list(color = 'rgb(205, 12, 24)', width = 3)) %>%
    add_trace(y = ~P10, name = 'P10', line = list(color = 'rgb(22, 96, 167)', width = 1)) %>%
    add_trace(y = ~P15, name = 'P15', line = list(color = 'rgb(22, 96, 167)', width = 1)) %>%
    add_trace(y = ~P85, name = 'P85', line = list(color = 'rgb(22, 96, 167)', width = 1)) %>%
    add_trace(y = ~P90, name = 'P90', line = list(color = 'rgb(22, 96, 167)', width = 1)) %>%
    add_trace(y = ~P97, name = 'P97', line = list(color = 'rgb(205, 12, 24)', width = 3)) %>%
    layout(title = "Child weight (kg) / age (days)",
           xaxis = list(title = "Weight (days)"),
           yaxis = list(title = "Weight (kg)"))
```


## App
The app is splited in three parts. 

* _server.R_ loads the data and contains the business logic 
* _ui.R_ describes the user interface 
* _prepare_data.R_ is responsible for downloading and preprocessing (extracting) the data from the WHO page. This part is only necessary if you want to redownload the data.

## Links
### App
The app: https://acger.shinyapps.io/week4/  

The code: https://github.com/acger/developing-data-products/tree/gh-pages/week4  

### Data from WHO
https://www.who.int/childgrowth/standards/en/
